<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Abrir Puerta</title>
<style>
    body {
        margin: 0;
        background: #111;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-family: Arial, sans-serif;
        color: #eee;
    }

    #btnPuerta {
        width: 260px;
        height: 260px;
        border-radius: 50%;
        background: #cc0000;
        border: none;
        font-size: 34px;
        font-weight: bold;
        color: white;
        cursor: pointer;
        box-shadow: 0 0 25px #550000;
        transition: background 0.2s ease, box-shadow 0.2s ease;
    }

    #btnPuerta.activo {
        background: #00a52f;
        box-shadow: 0 0 25px #003300;
    }
</style>
</head>
<body>

<button id="btnPuerta" onclick="abrirPuerta()">ABRIR<br>PUERTA</button>

<!-- Sonido -->
<audio id="ding" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

<script>
function abrirPuerta() {

    const btn = document.getElementById("btnPuerta");
    const ding = document.getElementById("ding");

    // Vibraci칩n
    if (navigator.vibrate) navigator.vibrate(100);

    // Sonido cortito
    ding.currentTime = 0;
    ding.play();

    // Cambia a verde
    btn.classList.add("activo");

    // Llamada para abrir tu puerta
    fetch("https://www.virtualsmarthome.xyz/url_routine_trigger/activate.php?trigger=544ff1c4-0289-4c20-8bde-059d42080dd2&token=f7b36347-0d80-49bd-87c0-aa651806ce32&response=smartphone");

    // Volver a rojo
    setTimeout(() => {
        btn.classList.remove("activo");
    }, 1000);
}
</script>

</body>
</html><h2></h2>

<button onclick="abrir()"></button>

<script>
// TOKEN AUTORIZADO
const TOKEN_VALIDO = "FER_TOKEN_001";  // <-- cambi치 esto cuando quieras autorizar o revocar

function abrir() {
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get("token");

    if (token === TOKEN_VALIDO) {
        // Redirige a tu URL real que abre el port칩n
        window.location.href =
        "https://www.virtualsmarthome.xyz/url_routine_trigger/activate.php?trigger=544ff1c4-0289-4c20-8bde-059d42080dd2&token=f7b36347-0d80-49bd-87c0-aa651806ce32&response=smartphone";
    } else {
        alert("Acceso denegado");
        navigator.vibrate?.(200); // vibra si est치 mal
    }
}
</script>

</body>
</html>
